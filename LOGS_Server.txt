
Server Construct

//-------------------------------------------------------------------
Server.Run()
//-------------------------------------------------------------------
Waiting for Callagent request...

//-------------------------------------------------------------------
void CMGCPServer::proceedReceiveBuffer()
//-------------------------------------------------------------------
CRCX:
//-------------------------------------------------------------------
if (mgcp.EndPoint.m_point == ann/$)
//-------------------------------------------------------------------
void CMGCPServer::reply
----------REPLIED TO 10.77.7.20:2727:
200 1 OK
Z: ann/1@[10.77.7.19]
I: 1

v=0
o=- 0 0 IN IP4 10.77.7.19
s=MGCP_server
c=IN IP4 10.77.7.19
t=0 0
a=tool:libavformat 57.3.100
m=audio 16000 RTP/AVP 8
a=rtpmap:8 PCMA/8000
a=sendonly
------------------

//-------------------------------------------------------------------
Waiting for Callagent request...

//-------------------------------------------------------------------
void CMGCPServer::proceedReceiveBuffer()
//-------------------------------------------------------------------
RQNT
//-------------------------------------------------------------------
void CMGCPServer::reply
----------REPLIED TO 10.77.7.20:2727:
200 2 OK
------------------

//-------------------------------------------------------------------
std::thread th(threadSendMedia, conn,../Debug/music_alaw.wav, );
//-------------------------------------------------------------------
Waiting for Callagent request...

//-------------------------------------------------------------------
void CMGCPServer::proceedReceiveBuffer()
//-------------------------------------------------------------------
CRCX:
//-------------------------------------------------------------------
if (mgcp.EndPoint.m_point == ann/$)
//-------------------------------------------------------------------
void CMGCPServer::reply
----------REPLIED TO 10.77.7.20:2727:
200 3 OK
Z: ann/2@[10.77.7.19]
I: 2

v=0
o=- 0 0 IN IP4 10.77.7.19
s=MGCP_server
c=IN IP4 10.77.7.19
t=0 0
a=tool:libavformat 57.3.100
m=audio 16002 RTP/AVP 8
a=rtpmap:8 PCMA/8000
a=sendonly
------------------

//-------------------------------------------------------------------
Waiting for Callagent request...

//-------------------------------------------------------------------
void CMGCPServer::proceedReceiveBuffer()
//-------------------------------------------------------------------
RQNT
//-------------------------------------------------------------------
void CMGCPServer::reply
----------REPLIED TO 10.77.7.20:2727:
200 4 OK
------------------

//-------------------------------------------------------------------
std::thread th(threadSendMedia, conn,../Debug/music_alaw.wav, );
//-------------------------------------------------------------------
Waiting for Callagent request...

//-------------------------------------------------------------------
void CMGCPServer::proceedReceiveBuffer()
//-------------------------------------------------------------------
CRCX:
//-------------------------------------------------------------------
if (mgcp.EndPoint.m_point == cnf/$)
//-------------------------------------------------------------------
void CMGCPServer::Connectivity
//-------------------------------------------------------------------
SHP_CConfRoom CMGCPServer::CreateNewRoom()
 Created room with ID=
//-------------------------------------------------------------------

//-------------------------------------------------------------------
CMGCPServer::FillinConfParam:


v=0
o=- 18467 0 IN IP4 10.77.7.19
s=41
c=IN IP4 10.77.7.19
t=0 0
a=tool:libavformat 57.3.100
m=audio 29000 RTP/AVP 97
b=AS:705
a=rtpmap:97 PCMA/8000

//-------------------------------------------------------------------
room->NewInitPoint(mgcp.SDP);
//-------------------------------------------------------------------
void CMGCPServer::reply
----------REPLIED TO 10.77.7.20:2727:
200 5 OK
Z: cnf/1@[10.77.7.19]
I: 3

v=0
o=- 18467 0 IN IP4 10.77.7.19
s=41
c=IN IP4 10.77.7.19
t=0 0
a=tool:libavformat 57.3.100
m=audio 29000 RTP/AVP 97
b=AS:705
a=rtpmap:97 PCMA/8000

------------------

//-------------------------------------------------------------------
CRCX: cnf$ END
//-------------------------------------------------------------------
Waiting for Callagent request...

//-------------------------------------------------------------------
void CMGCPServer::proceedReceiveBuffer()
//-------------------------------------------------------------------
CRCX:
//-------------------------------------------------------------------
if (conn)
//-------------------------------------------------------------------
string CMGCPServer::GetRoomIDConn = 1
//-------------------------------------------------------------------
if (mgcp.EndPoint.m_point == cnf/1)
//-------------------------------------------------------------------
bool CMGCPServer::FindPort
//-------------------------------------------------------------------

//-------------------------------------------------------------------
CMGCPServer::FillinConfParam:


v=0
o=- 26500 0 IN IP4 10.77.7.19
s=6334
c=IN IP4 10.77.7.19
t=0 0
a=tool:libavformat 57.3.100
m=audio 29002 RTP/AVP 97
b=AS:705
a=rtpmap:97 PCMA/8000

//-------------------------------------------------------------------
void CMGCPServer::reply
----------REPLIED TO 10.77.7.20:2727:
200 6 OK
I: 3
Z: cnf/1@[10.77.7.19]
I: 4

v=0
o=- 26500 0 IN IP4 10.77.7.19
s=6334
c=IN IP4 10.77.7.19
t=0 0
a=tool:libavformat 57.3.100
m=audio 29002 RTP/AVP 97
b=AS:705
a=rtpmap:97 PCMA/8000

------------------

//-------------------------------------------------------------------
CRCX:cnf/1 ENDED
//-------------------------------------------------------------------
Waiting for Callagent request...

//-------------------------------------------------------------------
void CMGCPServer::proceedReceiveBuffer()
//-------------------------------------------------------------------
CRCX:
//-------------------------------------------------------------------
if (conn)
//-------------------------------------------------------------------
string CMGCPServer::GetRoomIDConn = 1
//-------------------------------------------------------------------
if (mgcp.EndPoint.m_point == cnf/1)
//-------------------------------------------------------------------
bool CMGCPServer::FindPort
//-------------------------------------------------------------------
bool CMGCPServer::FindPort
//-------------------------------------------------------------------
‰!
//-------------------------------------------------------------------
CMGCPServer::FillinConfParam:


v=0
o=- 15724 0 IN IP4 10.77.7.19
s=19169
c=IN IP4 10.77.7.19
t=0 0
a=tool:libavformat 57.3.100
m=audio 29004 RTP/AVP 97
b=AS:705
a=rtpmap:97 PCMA/8000

//-------------------------------------------------------------------
void CMGCPServer::reply
----------REPLIED TO 10.77.7.20:2727:
200 7 OK
I: 4
Z: cnf/1@[10.77.7.19]
I: 5

v=0
o=- 15724 0 IN IP4 10.77.7.19
s=19169
c=IN IP4 10.77.7.19
t=0 0
a=tool:libavformat 57.3.100
m=audio 29004 RTP/AVP 97
b=AS:705
a=rtpmap:97 PCMA/8000

------------------

//-------------------------------------------------------------------
CRCX:cnf/1 ENDED
//-------------------------------------------------------------------
Waiting for Callagent request...

//-------------------------------------------------------------------
void CMGCPServer::proceedReceiveBuffer()
//-------------------------------------------------------------------
void CMGCPServer::proceedDLCX
//-------------------------------------------------------------------
void CMGCPServer::reply
----------REPLIED TO 10.77.7.20:2727:
250 8 OK
------------------

//-------------------------------------------------------------------
Waiting for Callagent request...

//-------------------------------------------------------------------
void CMGCPServer::proceedReceiveBuffer()
//-------------------------------------------------------------------
void CMGCPServer::proceedDLCX
//-------------------------------------------------------------------
void CMGCPServer::reply
----------REPLIED TO 10.77.7.20:2727:
250 9 OK
------------------

//-------------------------------------------------------------------
Waiting for Callagent request...

//-------------------------------------------------------------------
void CMGCPServer::proceedReceiveBuffer()
//-------------------------------------------------------------------
void CMGCPServer::proceedMDCX
//-------------------------------------------------------------------
string CMGCPServer::GetRoomIDConn = 1
//-------------------------------------------------------------------
if (mgcp.EndPoint.m_point ==cnf/1)
//-------------------------------------------------------------------
found room with ID=cnf/1
DestRoom->NewInitPoint(mgcp.SDP);
//-------------------------------------------------------------------
void CMGCPServer::reply
----------REPLIED TO 10.77.7.20:2727:
200 10 OK
------------------

//-------------------------------------------------------------------
MDCX:cnf/1ENDED
//-------------------------------------------------------------------
Waiting for Callagent request...

//-------------------------------------------------------------------
void CMGCPServer::proceedReceiveBuffer()
//-------------------------------------------------------------------
void CMGCPServer::proceedMDCX
//-------------------------------------------------------------------
string CMGCPServer::GetRoomIDConn = 1
//-------------------------------------------------------------------
if (mgcp.EndPoint.m_point ==cnf/1)
//-------------------------------------------------------------------
found room with ID=cnf/1
DestRoom->NewInitPoint(mgcp.SDP);
//-------------------------------------------------------------------
if (DestRoom->GetNumCllPoints() == 3)
//-------------------------------------------------------------------
void CMGCPServer::reply
----------REPLIED TO 10.77.7.20:2727:
200 11 OK
------------------

//-------------------------------------------------------------------
MDCX:cnf/1ENDED
//-------------------------------------------------------------------
Waiting for Callagent request...

//-------------------------------------------------------------------
void CMGCPServer::proceedReceiveBuffer()
//-------------------------------------------------------------------
void CMGCPServer::proceedDLCX
//-------------------------------------------------------------------
Waiting for Callagent request...

//-------------------------------------------------------------------
void CMGCPServer::proceedReceiveBuffer()
//-------------------------------------------------------------------
void CMGCPServer::proceedDLCX
//-------------------------------------------------------------------
Waiting for Callagent request...

//-------------------------------------------------------------------