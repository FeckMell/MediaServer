#include "stdafx.h"
#include "Communication.h"

map<string, boost::function<void(string)>> COM::mapFunc;
//*///------------------------------------------------------------------------------------------
//*///------------------------------------------------------------------------------------------
void COM::RegModul(string name_, boost::function<void(string)> func_)
{
	mapFunc[name_] = func_;
}
//*///------------------------------------------------------------------------------------------
//*///------------------------------------------------------------------------------------------
void COM::SendModul(string name_, string mess_)
{
	try
	{
		mapFunc[name_](mess_);
	}
	catch (...)
	{
		LOG::Log("fatal", "Errors", "COM::SendModul(_"+name_+"_mess:\n_"+mess_+"_");
		mapFunc.erase(name_);
	}
}
//*///------------------------------------------------------------------------------------------
//*///------------------------------------------------------------------------------------------
